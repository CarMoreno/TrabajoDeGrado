<div class="wrapper">

  <!-- Main Header -->
  <ng-include src="'pages/header.html'"></ng-include>  
  <!-- Left side column. contains the logo and sidebar -->
  <ng-include src="'pages/aside.html'"></ng-include>
  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        Eventos
        <small>Ruta Vuelta a Oriente</small>
      </h1>
      <ol class="breadcrumb">
        <li><a href="#/"><i class="fa fa-home"></i>Inicio</a></li>
        <li><a href="#/rutaOriente/">Ruta Vuelta a Oriente</a></li>
        <li class="active">Eventos</li>
      </ol>
    </section>

    <!-- ===================CONTENIDO ===================-->
    <section class="content">
      <form name="form" novalidate>
        <div class="form-search input-group input-group-lg" 
             ng-class="{ 'has-error' : form.busqueda.$invalid && !form.busqueda.$pristine }">
            <input type="text" name="busqueda" class="form-control input-lg" placeholder="Empieza a escribir..." 
                   ng-model="search" required>
        </div>
      </form>
      <!--Cartas-->
      <div class="row"  >
        <div class="col-md-4 col-sm-3" dir-paginate="cards in datos | filter:search | itemsPerPage:3">
          <div class='report-module'>
            <div class='thumbnail' ng-repeat="evento in cards" 
                 ng-if="evento.obj.value.search('imgur') != -1">
                <img src={{evento.obj.value}}>
            </div>
            <div class='post-content'>
              <div class='category' ng-repeat="evento in cards"
                   ng-if="evento.pred.value.search('label') != -1">
                {{evento.obj.value}}
              </div>
              <p class='description' align="justify" ng-repeat="evento in cards"
                 ng-if="evento.pred.value.search('comment') != -1">
                {{evento.obj.value}}
              </p>
              <p class='description' ng-repeat="evento in cards" 
                 ng-if="evento.pred.value.search('atTime') != -1">
                Fecha: {{evento.obj.value}}
              </p>
              <p class='description' ng-repeat="evento in cards" 
                 ng-if="evento.pred.value.search('atPlace') != -1">
                Lugar: {{evento.obj.value}}
              </p>
              <div class='post-meta'>
                <span class='timestamp' ng-repeat="evento in cards"
                      ng-if="evento.obj.value.search('.mp4') != -1">
                  <a class="btn btn-link" ng-click="setVideo(evento.obj.value)"
                                          data-toggle="modal" data-target="#myModal">
                    <i class="fa fa-film fa-2x"></i>
                  </a>
                </span>
              </div>
            </div>
          </div>

          <div id="myModal" class="modal fade" role="dialog">
          <div class="modal-dialog modal-lg">
            <!-- Modal content-->
            <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" 
                      data-dismiss="modal" 
                      aria-hidden="true">&times;</button>
            </div>
              <div class="modal-body">
                <div class="embed-responsive embed-responsive-16by9">
                  <iframe class="embed-responsive-item" type="text/html" 
                  ng-src={{getVideo()}}
                  frameborder="0" allowfullscreen></iframe>

                  <!--<video controls="controls" preload="none" poster="">
                    <source src={{getVideo()}} type="video/mp4" />
                </video>-->
                </div>
              </div>
            </div>
          </div>
        </div>

        </div>
          <div class="col-md-7 col-md-offset-4">
            <dir-pagination-controls
               max-size="3"
               direction-links="true">
            </dir-pagination-controls>
          </div>
      </div>
      <!--./Cartas-->
    </section>
    <!--=================== /.CONTENIDO ============= -->
  </div>
  <!-- /.content-wrapper -->
  <!-- Main Footer -->
  <ng-include src="'pages/footer.html'"></ng-include>
</div><!-- ./wrapper -->